// Internationalization Module
const translations = {
    en: {
        nav: {
            services: "Services",
            about: "About",
            contact: "Contact Us"
        },
        hero: {
            titleMain: "Professional Payroll Solutions",
            titleSub: "For Your Business",
            slogan: "Reliable & Compliant Service",
            description: "Expert social secretariat services designed for Belgian businesses. We handle your payroll, compliance, and HR administration so you can focus on growing your business.",
            btnExplore: "Explore Services",
            btnQuote: "Get a Quote",
            statClients: "Happy Clients",
            statExperience: "Years Experience",
            statCompliance: "Compliance Rate"
        },
        services: {
            tag: "What We Offer",
            title: "Our Services",
            description: "Comprehensive solutions for all your payroll and HR needs",
            payroll: {
                title: "Payroll Management",
                description: "Complete payroll processing, salary calculations, and payment administration for your employees",
                feature1: "Monthly salary processing",
                feature2: "Tax calculations & filing",
                feature3: "Social security declarations"
            },
            optimization: {
                title: "Salary Optimization",
                description: "Strategic advice to optimize your payroll costs while ensuring full compliance",
                feature1: "Cost analysis & reporting",
                feature2: "Tax efficiency strategies",
                feature3: "Benefits optimization"
            },
            legal: {
                title: "Legal Advice",
                description: "Expert guidance on employment law and social legislation in Belgium",
                feature1: "Employment contracts",
                feature2: "Regulatory compliance",
                feature3: "Dispute resolution"
            },
            hr: {
                title: "HR Tools",
                description: "Modern digital tools to streamline your HR processes and administration",
                feature1: "Employee portal access",
                feature2: "Time & attendance tracking",
                feature3: "Document management"
            },
            audits: {
                title: "Social Audits",
                description: "Comprehensive audits to ensure social compliance and minimize your risks",
                feature1: "Compliance verification",
                feature2: "Risk assessment",
                feature3: "Detailed audit reports"
            }
        },
        whyChoose: {
            tag: "Why Choose Us",
            title: "Your Trusted Partner",
            description: "We provide reliable, professional payroll services with a personal touch",
            feature1Title: "Expert Knowledge",
            feature1Desc: "Deep expertise in Belgian social legislation and payroll regulations",
            feature2Title: "Personal Service",
            feature2Desc: "Dedicated account manager for personalized support",
            feature3Title: "Full Compliance",
            feature3Desc: "100% compliance with Belgian social security and tax regulations",
            feature4Title: "Digital Solutions",
            feature4Desc: "Modern technology platform for easy access and transparency"
        },
        about: {
            tag: "About Us",
            title: "Who We Are",
            text: "With years of expertise in social secretariat services, we provide reliable and professional support to businesses of all sizes across Belgium. Our team of certified experts ensures your payroll and HR processes run smoothly and in full compliance with Belgian regulations. We combine traditional expertise with modern technology to deliver exceptional service at competitive prices."
        },
        contact: {
            tag: "Get In Touch",
            title: "Contact Us",
            description: "Ready to simplify your payroll? Get in touch today",
            locationTitle: "Office",
            locationText: "Brussels, Belgium",
            phoneTitle: "Phone",
            emailTitle: "Email",
            formFullName: "LastName and Name",
            formCompany: "Company",
            formEmail: "Email",
            formPhone: "Phone Number",
            formMessage: "Message + Number of collaborators",
            formButton: "Send Message"
        },
        modal: {
            successTitle: "Message Sent!",
            successMessage: "Thank you for contacting us! We will get back to you within 24 hours.",
            errorTitle: "Oops!",
            errorMessage: "There was a problem submitting your form. Please check your connection and try again.",
            errorRetry: "Please try again or contact us directly.",
            verifying: "Verifying...",
            sending: "Sending...",
            closeButton: "Close"
        },
        footer: {
            description: "Professional payroll services for Belgian businesses. Reliable, compliant, and personal.",
            rights: "All rights reserved."
        }
    },
    fr: {
        nav: {
            services: "Services",
            about: "À propos",
            contact: "Contactez-nous"
        },
        hero: {
            titleMain: "Solutions Professionnelles de Paie",
            titleSub: "Pour Votre Entreprise",
            slogan: "Service Fiable et Conforme",
            description: "Services experts de secrétariat social conçus pour les entreprises belges. Nous gérons votre paie, votre conformité et votre administration RH afin que vous puissiez vous concentrer sur la croissance de votre entreprise.",
            btnExplore: "Découvrir nos Services",
            btnQuote: "Demander un Devis",
            statClients: "Clients Satisfaits",
            statExperience: "Années d'Expérience",
            statCompliance: "Taux de Conformité"
        },
        services: {
            tag: "Ce Que Nous Offrons",
            title: "Nos Services",
            description: "Solutions complètes pour tous vos besoins en paie et RH",
            payroll: {
                title: "Gestion des Salaires",
                description: "Traitement complet de la paie, calculs salariaux et administration des paiements pour vos employés",
                feature1: "Traitement mensuel des salaires",
                feature2: "Calculs et déclarations fiscales",
                feature3: "Déclarations de sécurité sociale"
            },
            optimization: {
                title: "Optimisation Salariale",
                description: "Conseils stratégiques pour optimiser vos coûts salariaux tout en garantissant une conformité totale",
                feature1: "Analyse et rapports de coûts",
                feature2: "Stratégies d'efficacité fiscale",
                feature3: "Optimisation des avantages"
            },
            legal: {
                title: "Conseils Juridiques",
                description: "Expertise en droit du travail et législation sociale en Belgique",
                feature1: "Contrats de travail",
                feature2: "Conformité réglementaire",
                feature3: "Résolution des litiges"
            },
            hr: {
                title: "Outils RH",
                description: "Outils numériques modernes pour rationaliser vos processus RH et votre administration",
                feature1: "Accès au portail employé",
                feature2: "Suivi du temps et présence",
                feature3: "Gestion documentaire"
            },
            audits: {
                title: "Contrôles Sociaux",
                description: "Audits complets pour garantir la conformité sociale et minimiser vos risques",
                feature1: "Vérification de conformité",
                feature2: "Évaluation des risques",
                feature3: "Rapports d'audit détaillés"
            }
        },
        whyChoose: {
            tag: "Pourquoi Nous Choisir",
            title: "Votre Partenaire de Confiance",
            description: "Nous fournissons des services de paie fiables et professionnels avec une touche personnelle",
            feature1Title: "Expertise Reconnue",
            feature1Desc: "Expertise approfondie de la législation sociale et de la réglementation salariale belge",
            feature2Title: "Service Personnalisé",
            feature2Desc: "Gestionnaire de compte dédié pour un soutien personnalisé",
            feature3Title: "Conformité Totale",
            feature3Desc: "100% de conformité avec les réglementations belges de sécurité sociale et fiscales",
            feature4Title: "Solutions Digitales",
            feature4Desc: "Plateforme technologique moderne pour un accès facile et une transparence totale"
        },
        about: {
            tag: "À Propos de Nous",
            title: "Qui Nous Sommes",
            text: "Avec des années d'expertise dans les services de secrétariat social, nous fournissons un soutien fiable et professionnel aux entreprises de toutes tailles en Belgique. Notre équipe d'experts certifiés garantit que vos processus de paie et RH fonctionnent de manière fluide et en totale conformité avec la réglementation belge. Nous combinons l'expertise traditionnelle avec la technologie moderne pour offrir un service exceptionnel à des prix compétitifs."
        },
        contact: {
            tag: "Contactez-Nous",
            title: "Nous Contacter",
            description: "Prêt à simplifier votre paie ? Contactez-nous dès aujourd'hui",
            locationTitle: "Bureau",
            locationText: "Bruxelles, Belgique",
            phoneTitle: "Téléphone",
            emailTitle: "E-mail",
            formFullName: "Nom et Prénom",
            formCompany: "Entreprise",
            formEmail: "E-mail",
            formPhone: "Numéro de Téléphone",
            formMessage: "Message + Nombre de collaborateurs",
            formButton: "Envoyer le Message"
        },
        modal: {
            successTitle: "Message Envoyé !",
            successMessage: "Merci de nous avoir contactés ! Nous vous répondrons dans les 24 heures.",
            errorTitle: "Oups !",
            errorMessage: "Un problème est survenu lors de l'envoi de votre formulaire. Veuillez vérifier votre connexion et réessayer.",
            errorRetry: "Veuillez réessayer ou nous contacter directement.",
            verifying: "Vérification...",
            sending: "Envoi...",
            closeButton: "Fermer"
        },
        footer: {
            description: "Services de paie professionnels pour les entreprises belges. Fiables, conformes et personnels.",
            rights: "Tous droits réservés."
        }
    },
    nl: {
        nav: {
            services: "Diensten",
            about: "Over Ons",
            contact: "Contacteer Ons"
        },
        hero: {
            titleMain: "Professionele Loonoplossingen",
            titleSub: "Voor Uw Onderneming",
            slogan: "Betrouwbare & Conforme Service",
            description: "Deskundige sociaal secretariaat diensten ontworpen voor Belgische bedrijven. Wij behandelen uw loonbeheer, compliance en HR-administratie zodat u zich kunt concentreren op de groei van uw bedrijf.",
            btnExplore: "Ontdek Diensten",
            btnQuote: "Vraag een Offerte",
            statClients: "Tevreden Klanten",
            statExperience: "Jaar Ervaring",
            statCompliance: "Conformiteitspercentage"
        },
        services: {
            tag: "Wat Wij Bieden",
            title: "Onze Diensten",
            description: "Uitgebreide oplossingen voor al uw loon- en HR-behoeften",
            payroll: {
                title: "Loonbeheer",
                description: "Volledige loonverwerking, salarisberekeningen en betalingsadministratie voor uw werknemers",
                feature1: "Maandelijkse loonverwerking",
                feature2: "Belastingberekeningen en aangiften",
                feature3: "Sociale zekerheidsaangiften"
            },
            optimization: {
                title: "Salaris Optimalisatie",
                description: "Strategisch advies om uw loonkosten te optimaliseren met volledige naleving",
                feature1: "Kostenanalyse en rapportage",
                feature2: "Fiscale efficiëntiestrategieën",
                feature3: "Optimalisatie van voordelen"
            },
            legal: {
                title: "Juridisch Advies",
                description: "Deskundige begeleiding op het gebied van arbeidsrecht en sociale wetgeving in België",
                feature1: "Arbeidscontracten",
                feature2: "Naleving van regelgeving",
                feature3: "Geschillenbeslechting"
            },
            hr: {
                title: "HR Hulpmiddelen",
                description: "Moderne digitale tools om uw HR-processen en administratie te stroomlijnen",
                feature1: "Toegang tot werknemersportaal",
                feature2: "Tijd- en aanwezigheidsregistratie",
                feature3: "Documentbeheer"
            },
            audits: {
                title: "Sociale Controles",
                description: "Uitgebreide audits om sociale naleving te waarborgen en uw risico's te minimaliseren",
                feature1: "Nalevingsverificatie",
                feature2: "Risicobeoordeling",
                feature3: "Gedetailleerde auditrapporten"
            }
        },
        whyChoose: {
            tag: "Waarom Voor Ons Kiezen",
            title: "Uw Vertrouwde Partner",
            description: "Wij bieden betrouwbare, professionele loondiensten met een persoonlijke toets",
            feature1Title: "Deskundige Kennis",
            feature1Desc: "Diepgaande expertise in Belgische sociale wetgeving en loonregelgeving",
            feature2Title: "Persoonlijke Service",
            feature2Desc: "Toegewijde accountmanager voor persoonlijke ondersteuning",
            feature3Title: "Volledige Naleving",
            feature3Desc: "100% naleving van Belgische sociale zekerheid en belastingvoorschriften",
            feature4Title: "Digitale Oplossingen",
            feature4Desc: "Modern technologieplatform voor gemakkelijke toegang en transparantie"
        },
        about: {
            tag: "Over Ons",
            title: "Wie Wij Zijn",
            text: "Met jarenlange expertise in sociaal secretariaat diensten, bieden wij betrouwbare en professionele ondersteuning aan bedrijven van alle groottes in België. Ons team van gecertificeerde experts zorgt ervoor dat uw loon- en HR-processen soepel verlopen en volledig in overeenstemming zijn met de Belgische regelgeving. Wij combineren traditionele expertise met moderne technologie om uitzonderlijke service te leveren tegen concurrerende prijzen."
        },
        contact: {
            tag: "Neem Contact Op",
            title: "Contacteer Ons",
            description: "Klaar om uw loonbeheer te vereenvoudigen? Neem vandaag nog contact op",
            locationTitle: "Kantoor",
            locationText: "Brussel, België",
            phoneTitle: "Telefoon",
            emailTitle: "E-mail",
            formFullName: "Achternaam en Voornaam",
            formCompany: "Bedrijf",
            formEmail: "E-mail",
            formPhone: "Telefoonnummer",
            formMessage: "Bericht + Aantal medewerkers",
            formButton: "Verstuur Bericht"
        },
        modal: {
            successTitle: "Bericht Verzonden!",
            successMessage: "Bedankt voor uw bericht! We nemen binnen 24 uur contact met u op.",
            errorTitle: "Oeps!",
            errorMessage: "Er is een probleem opgetreden bij het verzenden van uw formulier. Controleer uw verbinding en probeer het opnieuw.",
            errorRetry: "Probeer het opnieuw of neem rechtstreeks contact met ons op.",
            verifying: "Verifiëren...",
            sending: "Verzenden...",
            closeButton: "Sluiten"
        },
        footer: {
            description: "Professionele loondiensten voor Belgische bedrijven. Betrouwbaar, conform en persoonlijk.",
            rights: "Alle rechten voorbehouden."
        }
    }
};

// Get nested property from object using dot notation
function getNestedProperty(obj, path) {
    return path.split('.').reduce((current, prop) => current?.[prop], obj);
}

// Translate all elements with data-i18n attribute
function translatePage(language) {
    const elements = document.querySelectorAll('[data-i18n]');

    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = getNestedProperty(translations[language], key);

        if (translation) {
            element.textContent = translation;
        }
    });

    // Translate placeholders
    const placeholderElements = document.querySelectorAll('[data-i18n-placeholder]');
    placeholderElements.forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        const translation = getNestedProperty(translations[language], key);

        if (translation) {
            element.placeholder = translation;
        }
    });

    // Update HTML lang attribute
    document.documentElement.lang = language;

    // Save language preference
    localStorage.setItem('preferredLanguage', language);
}

// Initialize language
function initLanguage() {
    // Get language from localStorage or default to 'en'
    const savedLanguage = localStorage.getItem('preferredLanguage') || 'en';
    translatePage(savedLanguage);

    // Update active button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === savedLanguage) {
            btn.classList.add('active');
        }
    });
}

// Get current language
function getCurrentLanguage() {
    return localStorage.getItem('preferredLanguage') || 'en';
}

// Get specific translation
function getTranslation(key) {
    const language = getCurrentLanguage();
    return getNestedProperty(translations[language], key) || key;
}

// Export for use in main.js
window.i18n = {
    translate: translatePage,
    init: initLanguage,
    getCurrentLanguage: getCurrentLanguage,
    getTranslation: getTranslation
};
